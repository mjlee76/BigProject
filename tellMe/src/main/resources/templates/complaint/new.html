<!-- ë¯¼ì›ì‘ì„± í˜ì´ì§€ -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts/navbar::tellMe_head"/>
<head th:replace="layouts/footer::tellMe_foot"/>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¯¼ì› ì‘ì„±</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/new.css}" />
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/static/woff2/SUIT.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script th:src="@{/js/new.js}"></script>
    <style>
        /* ë¡œë”© ì˜¤ë²„ë ˆì´ ìŠ¤íƒ€ì¼ */
        #loading-overlay, #loading-overlay2{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* ë°°ê²½ì„ ì–´ë‘¡ê²Œ */
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            font-size: 1.5rem;
            z-index: 1000;
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ */
        .loading-spinner {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
<div th:replace="layouts/navbar::tellMe_header"></div>
<main>
    <div class="inquiry-header">
        <h1>ë¯¼ì› ì‘ì„±</h1>
        <p>ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì‹œë©´ ë¹ ë¥´ê²Œ í•´ê²°í•´ ë“œë¦´ê²Œìš”. ğŸ¤—</p>
    </div>
    <div class="content2">
        <form th:action="@{/complaint/create}" th:object="${question}" method="post" enctype="multipart/form-data" onsubmit="return spamAPI(event)">
            <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
            <input type="hidden" th:field="*{userId}" id="userId"/>
            <table class="form-table">
                <tr><!-- ì œëª© -->
                    <th><label for="title">ì œëª©</label></th>
                    <td><input type="text" id="title" th:field="*{title}" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." required /></td>
                </tr>
                <tr><!-- ê³µê°œ ì—¬ë¶€ -->
                    <th>ê³µê°œ ì—¬ë¶€</th>
                    <td>
                        <span th:each="option : ${question.reveal.values()}">
                            <input type="radio" th:field="*{reveal}" th:value="${option}" th:id="${option}" />
                            <label th:for="${option}" th:text="${option}"></label>
                        </span>
                    </td>
                </tr>
                <tr><!-- ë‚´ìš© -->
                    <th><label for="content">ë‚´ìš©</label></th>
                    <td><textarea id="content" th:field="*{content}" rows="6" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”." required></textarea></td>
                </tr>
                <tr><!-- ì²¨ë¶€íŒŒì¼ -->
                    <th>ì²¨ë¶€íŒŒì¼</th>
                    <td>
                        <div th:each="i : ${#numbers.sequence(1, 3)}" class="file-upload">
                            <input type="hidden" th:field="*{__${'file' + i}__}" />
                            <input type="file" th:id="'fileImage' + ${i}" th:name="files"
                                   accept="image/png, image/jpeg, image/jpg, application/pdf, application/hwp,
                       application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain"
                                   class="file-input-field"/>
                            <button type="button" class="remove-file-button" th:onclick="'resetFileInput(' + ${i} + ')'">ì·¨ì†Œ</button>
                            <span class="upload-status" th:id="'uploadStatus' + ${i}"></span>
                        </div>
                    </td>
                </tr>
            </table>
            <div><!-- ë²„íŠ¼ -->
                <button type="submit" class="submit-button">ë“±ë¡</button>
            </div>
        </form>
    </div>
</main>
<div th:replace="layouts/footer::tellMe_footer"></div>
<div id="loading-overlay">
    <div class="loading-spinner"></div>
    <p>ë„ë°° ë°©ì§€ë¥¼ ìœ„í•´ ê²€ì‚¬ê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤...</p>
</div>
<div id="loading-overlay2">
    <div class="loading-spinner"></div>
    <p>ì•…ì„± íŒŒì¼ ê²€ì‚¬ê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤...</p>
</div>
</body>
</html>